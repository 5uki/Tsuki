---
import Default from '@/layouts/Default.astro'

// æ¨¡æ‹Ÿæ•°æ® - åç»­ä» API è·å–
const recentPosts = [
  {
    slug: 'getting-started-with-cloudflare',
    title: 'ä½¿ç”¨ Cloudflare æ„å»ºç°ä»£ Web åº”ç”¨',
    summary: 'æ¢ç´¢å¦‚ä½•åˆ©ç”¨ Cloudflare çš„å…è´¹å¥—é¤æ„å»ºé«˜æ€§èƒ½çš„å…¨æ ˆåº”ç”¨ï¼ŒåŒ…æ‹¬ Pagesã€Workers å’Œ D1 æ•°æ®åº“çš„å®æˆ˜ç»éªŒã€‚',
    publishedAt: '2026-01-15',
    tags: ['Cloudflare', 'Webå¼€å‘'],
    readingTime: 8,
  },
  {
    slug: 'astro-ssr-deep-dive',
    title: 'Astro SSR æ·±åº¦è§£æï¼šä»é›¶åˆ°ç”Ÿäº§',
    summary: 'æ·±å…¥äº†è§£ Astro çš„æœåŠ¡ç«¯æ¸²æŸ“æœºåˆ¶ï¼Œä»¥åŠå¦‚ä½•åœ¨ Cloudflare Pages ä¸Šéƒ¨ç½² SSR åº”ç”¨ã€‚',
    publishedAt: '2026-01-12',
    tags: ['Astro', 'SSR'],
    readingTime: 12,
  },
  {
    slug: 'typescript-best-practices',
    title: 'TypeScript æœ€ä½³å®è·µ 2026',
    summary: 'æ€»ç»“ TypeScript é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬ç±»å‹è®¾è®¡ã€é”™è¯¯å¤„ç†å’Œæ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚',
    publishedAt: '2026-01-08',
    tags: ['TypeScript'],
    readingTime: 15,
  },
]

const recentMoments = [
  {
    id: '1',
    body: 'ä»Šå¤©æŠŠåšå®¢çš„ä¸»é¢˜ç³»ç»Ÿé‡æ„äº†ä¸€éï¼Œç°åœ¨æ”¯æŒ 6 å¥—ä¸»é¢˜ï¼Œåˆ‡æ¢ä¸æ»‘æ— é—ªçƒ âœ¨',
    createdAt: '3 å°æ—¶å‰',
  },
  {
    id: '2',
    body: 'å‘ç° Cloudflare D1 çš„æ€§èƒ½æ¯”é¢„æœŸå¥½å¾ˆå¤šï¼Œå†·å¯åŠ¨å‡ ä¹æ„ŸçŸ¥ä¸åˆ°å»¶è¿Ÿã€‚',
    createdAt: 'æ˜¨å¤©',
  },
  {
    id: '3',
    body: 'å‘¨æœ«å‡†å¤‡å†™ä¸€ç¯‡å…³äº Hono æ¡†æ¶çš„æ–‡ç« ï¼Œè¿™ä¸ªè½»é‡çº§æ¡†æ¶å¤ªé€‚åˆ Edge ç¯å¢ƒäº†ã€‚',
    createdAt: '2 å¤©å‰',
  },
]
---

<Default title="Orin" description="ä¸€ä¸ªè®¤çœŸå†™å­—çš„åœ°æ–¹">
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1 class="hero-title">Orin</h1>
      <p class="hero-tagline">ä¸€ä¸ªè®¤çœŸå†™å­—çš„åœ°æ–¹</p>
      <p class="hero-description">
        åˆ†äº«æŠ€æœ¯æ€è€ƒã€å¼€å‘ç»éªŒä¸ç”Ÿæ´»ç‚¹æ»´ã€‚<br />
        ç”¨ä»£ç æ„å»ºï¼Œç”¨æ–‡å­—è®°å½•ã€‚
      </p>
    </div>
    <div class="hero-decoration"></div>
  </section>

  <!-- Recent Posts -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">æœ€æ–°æ–‡ç« </h2>
      <a href="/posts" class="section-link">æŸ¥çœ‹å…¨éƒ¨ â†’</a>
    </div>
    <div class="posts-grid">
      {recentPosts.map((post, index) => (
        <article class={`post-card ${index === 0 ? 'featured' : ''}`}>
          <div class="post-card-content">
            <div class="post-meta">
              <time>{post.publishedAt}</time>
              <span class="separator">Â·</span>
              <span>{post.readingTime} åˆ†é’Ÿé˜…è¯»</span>
            </div>
            <h3 class="post-title">
              <a href={`/posts/${post.slug}`}>{post.title}</a>
            </h3>
            <p class="post-summary">{post.summary}</p>
            <div class="post-tags">
              {post.tags.map(tag => (
                <a href={`/tags/${tag.toLowerCase()}`} class="tag">#{tag}</a>
              ))}
            </div>
          </div>
        </article>
      ))}
    </div>
  </section>

  <!-- Recent Moments -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">æœ€æ–°åŠ¨æ€</h2>
      <a href="/moments" class="section-link">æŸ¥çœ‹å…¨éƒ¨ â†’</a>
    </div>
    <div class="moments-list">
      {recentMoments.map(moment => (
        <article class="moment-card">
          <p class="moment-body">{moment.body}</p>
          <div class="moment-meta">
            <time>{moment.createdAt}</time>
            <a href={`/moments/${moment.id}`} class="moment-link">æŸ¥çœ‹è¯¦æƒ…</a>
          </div>
        </article>
      ))}
    </div>
  </section>

  <!-- Quick Links -->
  <section class="section quick-links">
    <div class="quick-link-card">
      <span class="quick-link-icon">ğŸ“š</span>
      <h3>æ ‡ç­¾</h3>
      <p>æŒ‰ä¸»é¢˜æµè§ˆå†…å®¹</p>
      <a href="/tags" class="quick-link-action">æµè§ˆæ ‡ç­¾</a>
    </div>
    <div class="quick-link-card">
      <span class="quick-link-icon">ğŸ“‚</span>
      <h3>åˆ†ç»„</h3>
      <p>ç³»ç»ŸåŒ–çš„çŸ¥è¯†ä½“ç³»</p>
      <a href="/groups" class="quick-link-action">æŸ¥çœ‹åˆ†ç»„</a>
    </div>
    <div class="quick-link-card">
      <span class="quick-link-icon">ğŸ”</span>
      <h3>æœç´¢</h3>
      <p>å¿«é€Ÿæ‰¾åˆ°ä½ æƒ³è¦çš„</p>
      <a href="/search" class="quick-link-action">å¼€å§‹æœç´¢</a>
    </div>
  </section>
</Default>

<style>
  /* Hero Section */
  .hero {
    position: relative;
    text-align: center;
    padding: 4rem 0 3rem;
    margin-bottom: 3rem;
    border-bottom: 1px solid var(--orin-border);
    overflow: hidden;
  }

  .hero-content {
    position: relative;
    z-index: 1;
  }

  .hero-title {
    font-size: 3.5rem;
    font-weight: 800;
    margin: 0 0 0.5rem;
    background: linear-gradient(135deg, var(--orin-primary), var(--orin-accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-tagline {
    font-size: 1.25rem;
    color: var(--orin-muted);
    margin: 0 0 1rem;
    font-weight: 500;
  }

  .hero-description {
    font-size: 1rem;
    color: var(--orin-muted);
    margin: 0;
    line-height: 1.8;
  }

  .hero-decoration {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, var(--orin-primary) 0%, transparent 70%);
    opacity: 0.03;
    pointer-events: none;
  }

  /* Section Styles */
  .section {
    margin-bottom: 3rem;
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--orin-border);
  }

  .section-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0;
    color: var(--orin-fg);
  }

  .section-link {
    font-size: 0.875rem;
    color: var(--orin-primary);
    text-decoration: none;
    transition: opacity 0.15s;
  }

  .section-link:hover {
    opacity: 0.8;
    text-decoration: none;
  }

  /* Posts Grid */
  .posts-grid {
    display: grid;
    gap: 1.25rem;
  }

  .post-card {
    background: var(--orin-card-bg);
    border: 1px solid var(--orin-border);
    border-radius: 0.75rem;
    overflow: hidden;
    transition: border-color 0.15s, box-shadow 0.15s, transform 0.15s;
  }

  .post-card:hover {
    border-color: var(--orin-primary);
    box-shadow: var(--orin-card-shadow);
    transform: translateY(-2px);
  }

  .post-card.featured {
    background: linear-gradient(135deg, var(--orin-card-bg) 0%, var(--orin-bg) 100%);
    border-width: 2px;
  }

  .post-card-content {
    padding: 1.25rem 1.5rem;
  }

  .post-meta {
    font-size: 0.8125rem;
    color: var(--orin-muted);
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .separator {
    opacity: 0.5;
  }

  .post-title {
    font-size: 1.125rem;
    font-weight: 600;
    margin: 0 0 0.5rem;
    line-height: 1.4;
  }

  .post-title a {
    color: var(--orin-fg);
    text-decoration: none;
  }

  .post-title a:hover {
    color: var(--orin-primary);
    text-decoration: none;
  }

  .post-summary {
    font-size: 0.9375rem;
    color: var(--orin-muted);
    margin: 0 0 1rem;
    line-height: 1.6;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .post-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .tag {
    font-size: 0.75rem;
    color: var(--orin-primary);
    background: color-mix(in srgb, var(--orin-primary) 10%, transparent);
    padding: 0.25rem 0.625rem;
    border-radius: 1rem;
    text-decoration: none;
    transition: background-color 0.15s;
  }

  .tag:hover {
    background: color-mix(in srgb, var(--orin-primary) 20%, transparent);
    text-decoration: none;
  }

  /* Moments List */
  .moments-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .moment-card {
    padding: 1.25rem;
    background: var(--orin-card-bg);
    border: 1px solid var(--orin-border);
    border-radius: 0.75rem;
    transition: border-color 0.15s;
  }

  .moment-card:hover {
    border-color: var(--orin-primary);
  }

  .moment-body {
    font-size: 0.9375rem;
    line-height: 1.7;
    margin: 0 0 0.75rem;
    color: var(--orin-fg);
  }

  .moment-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.8125rem;
    color: var(--orin-muted);
  }

  .moment-link {
    color: var(--orin-primary);
    text-decoration: none;
  }

  .moment-link:hover {
    text-decoration: underline;
  }

  /* Quick Links */
  .quick-links {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
  }

  .quick-link-card {
    text-align: center;
    padding: 1.5rem 1rem;
    background: var(--orin-card-bg);
    border: 1px solid var(--orin-border);
    border-radius: 0.75rem;
    transition: border-color 0.15s, transform 0.15s;
  }

  .quick-link-card:hover {
    border-color: var(--orin-primary);
    transform: translateY(-2px);
  }

  .quick-link-icon {
    font-size: 2rem;
    display: block;
    margin-bottom: 0.75rem;
  }

  .quick-link-card h3 {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 0.25rem;
    color: var(--orin-fg);
  }

  .quick-link-card p {
    font-size: 0.8125rem;
    color: var(--orin-muted);
    margin: 0 0 1rem;
  }

  .quick-link-action {
    font-size: 0.8125rem;
    color: var(--orin-primary);
    text-decoration: none;
  }

  .quick-link-action:hover {
    text-decoration: underline;
  }

  /* Responsive */
  @media (max-width: 640px) {
    .hero-title {
      font-size: 2.5rem;
    }

    .hero {
      padding: 3rem 0 2rem;
    }

    .quick-links {
      grid-template-columns: 1fr;
    }

    .section-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
  }
</style>
