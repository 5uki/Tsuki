---
import Default from '@/layouts/Default.astro'
import { createAppContext } from '@entry/index'
import { getSidebarData } from '@usecases/content'

const ctx = createAppContext()
const sidebarData = await getSidebarData(ctx)
---

<Default title="标签" description="所有标签">
  <section class="mb-[var(--tsuki-space-2)]" transition:name="page-card">
    <h1 class="mb-[var(--tsuki-space-1-5)] text-[length:var(--tsuki-text-page-title)]">标签</h1>
    {sidebarData.tags.length > 0 ? (
      <div class="flex flex-wrap gap-[var(--tsuki-space-0-5)]">
        {sidebarData.tags.map((tag) => (
          <a
            href={`/tags/${tag.slug}`}
            class="inline-flex items-center gap-[var(--tsuki-space-0-35)] rounded-[var(--tsuki-radius-md)] border border-[var(--tsuki-surface-border)] bg-[var(--tsuki-surface-muted-soft)] px-[var(--tsuki-space-0-75)] py-[var(--tsuki-space-0-5)] text-[length:var(--tsuki-text-sm)] text-[color:var(--tsuki-fg)] no-underline transition-[background-color,transform,border-color] duration-[var(--tsuki-motion-fast)] ease-[var(--tsuki-motion-ease-out)] hover:translate-y-[var(--tsuki-translate-1px)] hover:border-[var(--tsuki-theme-accent)] hover:bg-[var(--tsuki-surface-accent-soft)]"
          >
            <span>{tag.name}</span>
            <span class="rounded-[var(--tsuki-radius-sm-2)] bg-[var(--tsuki-theme-secondary)] px-[var(--tsuki-space-0-45)] py-[var(--tsuki-space-0-125)] text-[length:var(--tsuki-text-2xs)] text-[color:var(--tsuki-fg)]">
              {tag.count}
            </span>
          </a>
        ))}
      </div>
    ) : (
      <p class="italic text-[color:var(--tsuki-fg)]">暂无标签</p>
    )}
  </section>
</Default>
