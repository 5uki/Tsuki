---
import Default from '@/layouts/Default.astro'

const query = Astro.url.searchParams.get('q') || ''
---

<Default title="搜索" description="搜索文章" noindex={true}>
  <h1 class="mb-[var(--tsuki-space-6)] text-[var(--tsuki-text-5xl)]">搜索</h1>

  <form class="mb-8 flex gap-2" method="get">
    <input
      type="search"
      name="q"
      value={query}
      placeholder="输入关键词搜索..."
      class="flex-1 rounded-[var(--tsuki-radius-md)] border border-[color-mix(in_srgb,var(--tsuki-theme-secondary)_64%,var(--tsuki-color-on-primary))] bg-[color-mix(in_srgb,var(--tsuki-color-on-primary)_72%,var(--tsuki-theme-secondary)_28%)] px-4 py-3 text-[var(--tsuki-text-lg)] text-[var(--tsuki-fg)] transition-[border-color] duration-150 focus:outline-none focus:border-[var(--tsuki-theme-accent)]"
    />
    <button type="submit" class="rounded-[var(--tsuki-radius-md)] bg-[var(--tsuki-theme-accent)] px-6 py-3 text-[var(--tsuki-text-lg)] text-[var(--tsuki-color-on-primary)] transition-opacity duration-150 hover:opacity-90">搜索</button>
  </form>

  {query ? (
    <section>
      <h2 class="mb-4 text-[var(--tsuki-text-xl)]">搜索结果: "{query}"</h2>
      <p class="italic text-[var(--tsuki-fg)]">未找到相关内容</p>
    </section>
  ) : (
    <p class="italic text-[var(--tsuki-fg)]">请输入关键词进行搜索</p>
  )}
</Default>
