---
import Default from '@/layouts/Default.astro'

const query = Astro.url.searchParams.get('q') || ''
---

<Default title="搜索" description="搜索文章" noindex={true}>
  <h1 class="mb-[var(--tsuki-space-1-5)] text-[length:var(--tsuki-text-page-title)]">搜索</h1>

  <form class="mb-[var(--tsuki-space-2)] flex gap-[var(--tsuki-space-0-5)]" method="get">
    <input
      type="search"
      name="q"
      value={query}
      placeholder="输入关键词搜索..."
      class="flex-1 rounded-[var(--tsuki-radius-md)] border border-[var(--tsuki-surface-border)] bg-[var(--tsuki-surface-muted)] px-[var(--tsuki-space-1)] py-[var(--tsuki-space-0-75)] text-[length:var(--tsuki-text-base)] text-[color:var(--tsuki-fg)] focus-visible:border-[var(--tsuki-theme-accent)] focus-visible:outline-none"
    />
    <button
      type="submit"
      class="rounded-[var(--tsuki-radius-md)] bg-[var(--tsuki-theme-accent)] px-[var(--tsuki-space-1-5)] py-[var(--tsuki-space-0-75)] text-[length:var(--tsuki-text-base)] text-[color:var(--tsuki-color-on-primary)] transition-opacity duration-[var(--tsuki-motion-fast)] ease-[var(--tsuki-motion-ease-out)] hover:opacity-90"
    >
      搜索
    </button>
  </form>

  {query ? (
    <section class="results">
      <h2 class="mb-[var(--tsuki-space-1)] text-[length:var(--tsuki-text-lg)]">搜索结果: "{query}"</h2>
      <p class="italic text-[color:var(--tsuki-fg)]">未找到相关内容</p>
    </section>
  ) : (
    <p class="italic text-[color:var(--tsuki-fg)]">请输入关键词进行搜索</p>
  )}
</Default>
