/**
 * Tsuki 全局样式入口
 */
@import './reset.css';
@import './tokens.css';
@import './themes.css';
@import './prose.css';
@import './transitions.css';

@layer components {
  /* ── Sidebar Card ── */
  .tsuki-sidebar-card {
    display: flex;
    flex-direction: column;
    border-radius: var(--tsuki-sidebar-card-radius);
    border: 1px solid var(--tsuki-sidebar-card-border);
    background: var(--tsuki-sidebar-card-bg);
    padding: var(--tsuki-sidebar-card-title-top-padding) var(--tsuki-sidebar-card-padding-inline) var(--tsuki-sidebar-card-padding);
    box-shadow: var(--tsuki-sidebar-card-shadow);
    transition:
      transform var(--tsuki-motion-card) var(--tsuki-motion-card-ease),
      box-shadow var(--tsuki-motion-card) var(--tsuki-motion-ease-out),
      border-color var(--tsuki-motion-card) var(--tsuki-motion-ease-out);
  }
  .tsuki-sidebar-card:where(:hover, :focus-visible, :active) {
    box-shadow: var(--tsuki-sidebar-card-shadow-hover);
    border-color: var(--tsuki-sidebar-card-border-hover);
  }
  .tsuki-sidebar-card:hover {
    transform: translateY(var(--tsuki-sidebar-card-hover-translate));
  }
  @media (min-width: 640px) {
    .tsuki-sidebar-card {
      padding: var(--tsuki-sidebar-card-title-top-padding-compact) var(--tsuki-sidebar-card-padding-inline-compact) var(--tsuki-sidebar-card-padding-compact);
    }
  }

  /* ── Section Title (h3 with accent marker) ── */
  .tsuki-section-title {
    margin-top: 0;
    margin-bottom: var(--tsuki-space-md);
    display: flex;
    align-items: center;
    gap: var(--tsuki-space-sm);
    font-size: var(--tsuki-sidebar-section-title-size);
    font-weight: 600;
    color: var(--tsuki-fg);
  }
  .tsuki-section-title::before {
    content: '';
    height: var(--tsuki-sidebar-section-marker-height);
    width: var(--tsuki-sidebar-section-marker-width);
    border-radius: var(--tsuki-radius-xs);
    background: var(--tsuki-theme-accent);
  }
  @media (min-width: 640px) {
    .tsuki-section-title {
      font-size: var(--tsuki-sidebar-section-title-size-desktop);
    }
  }

  /* ── Tag Pill ── */
  .tsuki-tag-pill {
    display: inline-block;
    border-radius: var(--tsuki-radius-md);
    background: var(--tsuki-surface-accent);
    padding: var(--tsuki-space-xs) var(--tsuki-space-sm);
    font-size: var(--tsuki-sidebar-body-text-size);
    font-weight: 500;
    color: var(--tsuki-theme-accent);
    text-decoration: none;
    transition: background-color var(--tsuki-motion-fast) var(--tsuki-motion-ease-out),
                transform var(--tsuki-motion-fast) var(--tsuki-motion-ease-out);
  }
  .tsuki-tag-pill:hover {
    transform: translateY(-2px);
  }
  @media (min-width: 640px) {
    .tsuki-tag-pill {
      padding: var(--tsuki-space-xs) var(--tsuki-space-md);
      font-size: var(--tsuki-sidebar-body-text-size-desktop);
    }
  }

  /* ── Meta Row ── */
  .tsuki-meta-row {
    display: inline-flex;
    min-width: 0;
    align-items: center;
    gap: var(--tsuki-space-xs);
    line-height: 1;
  }

  /* ── Meta Icon Badge ── */
  .tsuki-meta-icon-badge {
    display: grid;
    height: var(--tsuki-meta-icon-badge-size);
    width: var(--tsuki-meta-icon-badge-size);
    place-items: center;
    border-radius: var(--tsuki-radius-sm);
    background: var(--tsuki-theme-secondary);
  }

  /* ── Meta Icon ── */
  .tsuki-meta-icon {
    height: var(--tsuki-meta-icon-size);
    width: var(--tsuki-meta-icon-size);
    color: var(--tsuki-theme-accent);
  }

  /* ── Meta Text ── */
  .tsuki-meta-text {
    white-space: nowrap;
    font-size: var(--tsuki-text-meta);
    font-weight: 400;
    line-height: var(--tsuki-line-height-meta);
    color: var(--tsuki-muted-fg);
  }
  @media (min-width: 640px) {
    .tsuki-meta-text {
      font-size: var(--tsuki-sidebar-body-text-size-desktop);
    }
  }

  /* ── Meta Link (clickable meta row) ── */
  a.tsuki-meta-link {
    text-decoration: none;
    cursor: pointer;
    transition: opacity var(--tsuki-motion-fast) var(--tsuki-motion-ease-out);
  }
  a.tsuki-meta-link:hover {
    opacity: 0.75;
  }
  a.tsuki-meta-link:hover .tsuki-meta-text {
    color: var(--tsuki-theme-accent);
  }

  /* ── Content Card ── */
  .tsuki-content-card {
    border-radius: var(--tsuki-sidebar-card-radius);
    border: 1px solid var(--tsuki-sidebar-card-border);
    background: var(--tsuki-sidebar-card-bg);
    padding: var(--tsuki-space-lg) var(--tsuki-space-2xl) var(--tsuki-space-2xl);
    box-shadow: var(--tsuki-sidebar-card-shadow);
  }
  @media (min-width: 768px) {
    .tsuki-content-card {
      padding-inline: var(--tsuki-space-3xl);
    }
  }

  /* ── Page Title ── */
  .tsuki-page-title {
    margin-bottom: var(--tsuki-space-2xl);
    font-size: var(--tsuki-text-page-title);
  }

  /* ── Card List ── */
  .tsuki-card-list {
    display: flex;
    flex-direction: column;
    gap: var(--tsuki-space-lg);
  }

  /* ── Empty State ── */
  .tsuki-empty-state {
    font-style: italic;
    color: var(--tsuki-fg);
  }

  /* ── Toggle More Button (shared by sidebar lists) ── */
  .tsuki-toggle-btn {
    display: block;
    width: 100%;
    margin-top: var(--tsuki-space-sm);
    padding: var(--tsuki-space-xs) 0;
    background: none;
    border: none;
    cursor: pointer;
    font-size: var(--tsuki-sidebar-body-text-size);
    font-weight: 500;
    color: var(--tsuki-theme-accent);
    text-align: center;
    transition: opacity var(--tsuki-motion-fast) var(--tsuki-motion-ease-out);
  }
  .tsuki-toggle-btn:hover {
    opacity: 0.8;
  }

  /* ── Sidebar Empty Text ── */
  .tsuki-sidebar-empty {
    font-size: var(--tsuki-sidebar-body-text-size);
    color: var(--tsuki-muted-fg);
  }
}
