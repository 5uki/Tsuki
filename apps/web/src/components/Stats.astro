---
import tsukiConfig from '@/config/tsuki-config'

const { stats: configStats } = tsukiConfig

import type { SidebarStats } from '@contracts/content'

interface Props {
  stats: SidebarStats
}

const { stats } = Astro.props
---

{configStats?.enable && (
  <div class="tsuki-sidebar-card">
    <h3 class="tsuki-section-title">
      站点统计
    </h3>
    <div class="stat-list">
      <div class="stat-row">
        <span class="stat-label">文章</span>
        <span class="stat-value">{stats.posts.toLocaleString()}</span>
      </div>
      <div class="stat-row">
        <span class="stat-label">标签</span>
        <span class="stat-value">{stats.tags.toLocaleString()}</span>
      </div>
      <div class="stat-row stat-row-last">
        <span class="stat-label">分组</span>
        <span class="stat-value">{stats.groups.toLocaleString()}</span>
      </div>
    </div>
  </div>
)}

<style>
  .stat-list {
    display: flex;
    flex-direction: column;
    gap: var(--tsuki-space-0-5);
  }

  .stat-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--tsuki-surface-divider);
    padding-block: var(--tsuki-space-0-5);
  }
  .stat-row-last {
    border-bottom: 0;
  }

  .stat-label {
    font-size: var(--tsuki-text-sm-compact);
    color: var(--tsuki-fg);
  }
  @media (min-width: 640px) {
    .stat-label {
      font-size: var(--tsuki-text-sm);
    }
  }

  .stat-value {
    font-size: var(--tsuki-text-sm-compact);
    font-weight: 600;
    color: var(--tsuki-fg);
  }
  @media (min-width: 640px) {
    .stat-value {
      font-size: var(--tsuki-text-sm);
    }
  }
</style>
